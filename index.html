<!doctype html>
<html class="no-js" lang="zxx">
    <head>
        <title>E-Commerce</title>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.css" integrity="sha512-UTNP5BXLIptsaj5WdKFrkFov94lDx+eBvbKyoe1YAfjeRPC+gT5kyZ10kOHCfNZqEui1sxmqvodNUx3KbuYI/A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <link rel="stylesheet" href="https://cdn.usebootstrap.com/bootstrap/4.1.3/css/bootstrap.min.css">
        <link rel="stylesheet" href="css/helper.css">
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
    <!--[if lt IE 8]>
		<p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
	<![endif]-->
        <!-- Begin Body Wrapper -->
        <div class="body-wrapper">
            <!-- Begin Header Area -->
            <header class="header">
                <!-- Begin Header Top Area -->
                <div class="header-top">
                    <div class="container">
                        <div class="ht-menu">
                            <span>Telephone Enquiry:(+123) 123 321 345</span>
                            <ul>
                                <li><a href="index.html">Home</a></li>
                                <li><a href="account.html">My Account</a></li>
                                <li><a href="shopping-cart.html">Cart</a></li>
                                <li><a href="checkout.html">Checkout</a></li>
                                <li><a id="sign-in-link" href="sign-in.html">Sign In</a></li>    
                            </ul>
                        </div>
                    </div>
                </div>
                <!-- Header Top Area End Here -->
                <!-- Begin Header Middle Area -->
                <div class="header-middle">
                    <div class="container">
                        <div class="row">
                            <div class="col-3">
                                <div class="logo">
                                    <a href="index.html">
                                        <img src="images/logo/site-logo.jpg" alt="">
                                    </a>
                                </div>
                            </div>
                            <div class="col-9 hm-searchbox-area">
                                <div class="hm-searchbox">
                                    <form action="#">
                                        <select>
                                            <option value="0">All</option>                         
                                            <option value="10">Laptops & Tablets</option>                     
                                            <option value="10">Electronics & Accessories</option>    
                                            <option value="10">Printers</option>
                                        </select>
                                        <input type="text" placeholder="Enter your search key ...">
                                    </form>
                                </div>
                                <p>Hello, <span id="greet-user">guest</span></p>
                                <div class="cart-container">
                                    <a href="shopping-cart.html">
                                        <img src="images/icon/cart.png" alt="" width="50px">
                                        <span id="cart-number" class="cart-number">0</span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Header Middle Area End Here -->
                <!-- Begin Header Bottom Area -->
                <div class="header-bottom header-sticky">
                    <div class="container">
                        <!-- Begin Header Bottom Menu Area -->
                        <div class="hb-menu">
                            <nav>
                                <ul>
                                    <li class="dropdown-holder"><a href="category.html?categoryId=1&categoryName=Laptops%20%26%20Tablets">Laptops & Tablets</a>
                                        <ul class="hb-dropdown">
                                            <li><a href="category.html?categoryId=1&categoryName=Laptops%20%26%20Tablets&subcategoryId=1&subcategoryName=Laptops">Laptops</a></li>
                                            <li><a href="category.html?categoryId=1&categoryName=Laptops%20%26%20Tablets&subcategoryId=2&subcategoryName=Tablets">Tablets</a></li>
                                        </ul>
                                    </li>
                                    <li class="dropdown-holder"><a href="category.html?categoryId=2&categoryName=Electronics%20%26%20Accessories">Electronics & Accessories</a>
                                        <ul class="hb-dropdown">
                                            <li><a href="category.html?categoryId=2&categoryName=Electronics%20%26%20Accessories&subcategoryId=3&subcategoryName=Keyboards%20%26%20Mice">Keyboards & Mice</a></li>
                                            <li><a href="category.html?categoryId=2&categoryName=Electronics%20%26%20Accessories&subcategoryId=4&subcategoryName=Audio">Audio</a></li>
                                            <li><a href="category.html?categoryId=2&categoryName=Electronics%20%26%20Accessories&subcategoryId=5&subcategoryName=Hard%20Drives,%20SSDs%20%26%20Storage">Hard Drives, SSDs & Storage</a></li>
                                        </ul>
                                    </li>
                                    <li class="dropdown-holder"><a href="category.html?categoryId=3&categoryName=Printers">Printers</a>
                                        <ul class="hb-dropdown">
                                            <li><a href="category.html?categoryId=3&categoryName=Printers&subcategoryId=6&subcategoryName=Inkjet%20Printers">Inkjet Printers</a></li>
                                            <li><a href="category.html?categoryId=3&categoryName=Printers&subcategoryId=7&subcategoryName=Laser%20Printers">Laser Printers</a></li>
                                        </ul>
                                    </li>
                                    <div class="hb-right">
                                        <li><a href="#">Featured</a></li>
                                        <li><a href="#">New Arrivals</a></li>
                                        <li><a href="#">Best Sellers</a></li>
                                    </div>
                                </ul>
                            </nav>
                        </div>
                        <!-- Header Bottom Menu Area End Here -->
                    </div>
                </div>
                <!-- Header Bottom Area End Here -->
            </header>
            <!-- Header Area End Here -->
            <!-- Begin Breadcrumb Area -->
            <div class="breadcrumb-area">
                <div class="container">
                    <div class="breadcrumb-content">
                        <ul>
                            <li style="color: #808080;">Home</li>
                        </ul>
                    </div>
                </div>
            </div>
            <!-- Breadcrumb Area End Here -->
            <div class="mb-50">
                <div class="container">
                    <div style="display: grid; grid-template-columns: repeat(5, 1fr); row-gap: 10px; column-gap: 10px;">
                        <div style="grid-row: span 3; grid-column: span 2;">
                            <img src="images/banner/Screenshot 2023-12-28 133234.png" alt="" width="100%">
                        </div>
                        <!-- <div style="grid-column: span 2;">
                            <img src="images/banner/pexels-pixabay-221011.jpg" alt="" width="100%">
                        </div>        -->
                        <!-- Begin Slider Area -->
                        <div class="slider-area" style="grid-column: span 2;">
                            <div class="slider-active owl-carousel">
                                <!-- Begin Single Slide Area -->
                                <div class="single-slide align-center-left">
                                    <div class="slider-progress"></div>
                                    <div class="slider-content">
                                        <img src="images/banner/pexels-pixabay-221011.jpg" alt="">
                                    </div>
                                </div>
                                <!-- Single Slide Area End Here -->
                                <!-- Begin Single Slide Area -->
                                <div class="single-slide align-center-left">
                                    <div class="slider-progress"></div>
                                    <div class="slider-content">
                                        <img src="images/banner/pexels-pixabay-221011.jpg" alt="">
                                    </div>
                                </div>
                                <!-- Single Slide Area End Here -->
                                <!-- Begin Single Slide Area -->
                                <div class="single-slide align-center-left">
                                    <div class="slider-progress"></div>
                                    <div class="slider-content">
                                        <img src="images/banner/pexels-pixabay-221011.jpg" alt="">
                                    </div>
                                </div>
                                <!-- Single Slide Area End Here -->
                            </div>
                        </div>
                        <!-- Slider Area End Here -->
                        <div style="padding: 10px; box-shadow: rgba(0, 0, 0, 0.12) 0px 1px 3px, rgba(0, 0, 0, 0.24) 0px 1px 2px; border-radius: 5px;">
                            <img src="images/banner/Screenshot 2023-12-28 133234.png" alt="" width="100%">
                        </div>  
                        <div style="grid-row: span 2; padding: 10px; box-shadow: rgba(0, 0, 0, 0.12) 0px 1px 3px, rgba(0, 0, 0, 0.24) 0px 1px 2px; border-radius: 5px;"">
                            <img src="images/banner/Screenshot 2023-12-28 133234.png" alt="" width="100%">
                        </div>
                        <div style="grid-row: span 2; padding: 10px; box-shadow: rgba(0, 0, 0, 0.12) 0px 1px 3px, rgba(0, 0, 0, 0.24) 0px 1px 2px; border-radius: 5px;"">
                            <img src="images/banner/Screenshot 2023-12-28 133234.png" alt="" width="100%">
                        </div>
                        <div style="padding: 10px; box-shadow: rgba(0, 0, 0, 0.12) 0px 1px 3px, rgba(0, 0, 0, 0.24) 0px 1px 2px; border-radius: 5px;">
                            <img src="images/banner/pexels-pixabay-221011.jpg" alt="" width="100%">
                        </div>
                        <div style="padding: 10px; box-shadow: rgba(0, 0, 0, 0.12) 0px 1px 3px, rgba(0, 0, 0, 0.24) 0px 1px 2px; border-radius: 5px;">
                            <img src="images/banner/pexels-pixabay-221011.jpg" alt="" width="100%">
                        </div>
                    </div>
                    
                </div>
                
            </div>
            <!-- Begin Product Tab Area -->
            <div class="product-tab-area mb-50">
                <div class="container">
                    <div class="product-tab">
                        <div class="section-title">
                            <h2>
                                <ul class="nav">
                                    <li><a class="active" data-toggle="tab" href="#new-product">New Arrival</a></li>
                                    <li><a data-toggle="tab" href="#bestseller-product">Bestseller</a></li>
                                 </ul>   
                            </h2>
                        </div>
                    </div>
                    <div class="tab-content">
                        <div id="new-product" class="tab-pane active show" role="tabpanel">
                            <div class="product-active owl-carousel">
                                <!-- products will be inserted here -->
                            </div>
                        </div>
                        <div id="bestseller-product" class="tab-pane" role="tabpanel">
                            <div class="product-active owl-carousel">
                                <!-- single-product-wrap start -->
                                <div class="single-product-wrap">
                                    <div class="product-image">
                                        <a href="single-product.html">
                                            <img src="images/product/large-size/1.jpg">
                                        </a>
                                    </div>
                                    <div class="product_desc">
                                        <div class="product_desc_info">
                                            <p class="manufacturer">Dell</p>
                                            <hr>
                                            <h4><a class="product_name" href="single-product.html">Accusantium dolorem1</a></h4>
                                            <p class="price">RM 60.00</p>
                                        </div>
                                    </div>
                                </div>
                                <!-- single-product-wrap end -->
                                <!-- single-product-wrap start -->
                                <div class="single-product-wrap">
                                    <div class="product-image">
                                        <a href="single-product.html">
                                            <img src="images/product/large-size/2.jpg" alt="Li's Product Image">
                                        </a>
                                    </div>
                                    <div class="product_desc">
                                        <div class="product_desc_info">
                                            <p class="manufacturer">Dell</p>
                                            <hr>
                                            <h4><a class="product_name" href="single-product.html">Accusantium dolorem1</a></h4>
                                            <p class="price">RM 60.00</p>
                                        </div>
                                    </div>
                                </div>
                                <!-- single-product-wrap end -->
                                <!-- single-product-wrap start -->
                                <div class="single-product-wrap">
                                    <div class="product-image">
                                        <a href="single-product.html">
                                            <img src="images/product/large-size/3.jpg" alt="Li's Product Image">
                                        </a>
                                    </div>
                                    <div class="product_desc">
                                        <div class="product_desc_info">
                                            <p class="manufacturer">Dell</p>
                                            <hr>
                                            <h4><a class="product_name" href="single-product.html">Accusantium dolorem1</a></h4>
                                            <p class="price">RM 60.00</p>
                                        </div>
                                    </div>
                                </div>
                                <!-- single-product-wrap end -->
                                <!-- single-product-wrap start -->
                                <div class="single-product-wrap">
                                    <div class="product-image">
                                        <a href="single-product.html">
                                            <img src="images/product/large-size/4.jpg" alt="Li's Product Image">
                                        </a>
                                    </div>
                                    <div class="product_desc">
                                        <div class="product_desc_info">
                                            <p class="manufacturer">Dell</p>
                                            <hr>
                                            <h4><a class="product_name" href="single-product.html">Accusantium dolorem1</a></h4>
                                            <p class="price">RM 60.00</p>
                                        </div>
                                    </div>
                                </div>
                                <!-- single-product-wrap end -->
                                <!-- single-product-wrap start -->
                                <div class="single-product-wrap">
                                    <div class="product-image">
                                        <a href="single-product.html">
                                            <img src="images/product/large-size/5.jpg" alt="Li's Product Image">
                                        </a>
                                    </div>
                                    <div class="product_desc">
                                        <div class="product_desc_info">
                                            <p class="manufacturer">Dell</p>
                                            <hr>
                                            <h4><a class="product_name" href="single-product.html">Accusantium dolorem1</a></h4>
                                            <p class="price">RM 60.00</p>
                                        </div>
                                    </div>
                                </div>
                                <!-- single-product-wrap end -->
                                <!-- single-product-wrap start -->
                                <div class="single-product-wrap">
                                    <div class="product-image">
                                        <a href="single-product.html">
                                            <img src="images/product/large-size/6.jpg" alt="Li's Product Image">
                                        </a>
                                    </div>
                                    <div class="product_desc">
                                        <div class="product_desc_info">
                                            <p class="manufacturer">Dell</p>
                                            <hr>
                                            <h4><a class="product_name" href="single-product.html">Accusantium dolorem1</a></h4>
                                            <p class="price">RM 60.00</p>
                                        </div>
                                    </div>
                                </div>
                                <!-- single-product-wrap end -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Product Tab Area End Here -->
            <!-- Begin Static Banner Area -->
            <div class="static-banner-area mb-50">
                <div class="container">
                    <div class="row">
                        <div class="col-4">
                            <div class="single-banner">
                                <a href="#">
                                    <img src="images/banner/1_3.jpg" alt="Li's Static Banner">
                                </a>
                            </div>
                        </div>
                        <div class="col-4">
                            <div class="single-banner">
                                <a href="#">
                                    <img src="images/banner/1_4.jpg" alt="Li's Static Banner">
                                </a>
                            </div>
                        </div>
                        <div class="col-4">
                            <div class="single-banner">
                                <a href="#">
                                    <img src="images/banner/1_5.jpg" alt="Li's Static Banner">
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Static Banner Area End Here -->
            <!-- Begin Product Area -->
            <div class="product-area mb-50 laptop-area">
                <div class="container">
                    <div class="section-title">
                        <h2>Laptops & Tablets</h2>
                        <ul class="sub-category-list">
                            <li>Laptops</li>
                            <li>Tablets</li>
                        </ul>
                    </div>
                    <div class="row">
                        <div class="product-active owl-carousel">
                            <!-- //products will be inserted here -->
                        </div>
                    </div>
                </div>
            </div>
            <!-- Product Area End here -->
            <!-- Begin Product Area -->
            <div class="product-area mb-50 electronics-area">
                <div class="container">
                    <div class="section-title">
                        <h2>Electronics & Accessories</h2>
                        <ul class="sub-category-list">
                            <li>Keyboards & Mice</li>
                            <li>Audio</li>
                            <li>Hard Drives, SSDs & Storage</li>
                        </ul>
                    </div>
                    <div class="row">
                        <div class="product-active owl-carousel">
                            <!-- //products will be inserted here -->
                        </div>
                    </div>
                </div>
            </div>
            <!-- Product Area End here -->
            <!-- Begin Product Area -->
            <div class="product-area mb-50 printer-area">
                <div class="container">
                    <div class="section-title">
                        <h2>Printers</h2>
                        <ul class="sub-category-list">
                            <li>Inkjet Printers</li>
                            <li>Laser Printers</li>
                        </ul>
                    </div>
                    <div class="row">
                        <div class="product-active owl-carousel">
                            <!-- //products will be inserted here -->
                        </div>
                    </div>
                </div>
            </div>
            <!-- Product Area End here -->
            <!-- Begin Footer Area -->
            <div class="footer">
                <!-- Begin Footer Static Top Area -->
                <div class="footer-static-top">
                    <div class="container">
                        <!-- Begin Footer Shipping Area -->
                        <div class="footer-shipping pt-60 pb-55 pb-xs-25">
                            <div class="row">
                                <!-- Begin Li's Shipping Inner Box Area -->
                                <div class="col-lg-3 col-md-6 col-sm-6 pb-sm-55 pb-xs-55">
                                    <div class="li-shipping-inner-box">
                                        <div class="shipping-icon">
                                            <img src="images/shipping-icon/1.png" alt="Shipping Icon">
                                        </div>
                                        <div class="shipping-text">
                                            <h2>Free Delivery</h2>
                                            <p>And free returns. See checkout for delivery dates.</p>
                                        </div>
                                    </div>
                                </div>
                                <!-- Li's Shipping Inner Box Area End Here -->
                                <!-- Begin Li's Shipping Inner Box Area -->
                                <div class="col-lg-3 col-md-6 col-sm-6 pb-sm-55 pb-xs-55">
                                    <div class="li-shipping-inner-box">
                                        <div class="shipping-icon">
                                            <img src="images/shipping-icon/2.png" alt="Shipping Icon">
                                        </div>
                                        <div class="shipping-text">
                                            <h2>Safe Payment</h2>
                                            <p>Pay with the world's most popular and secure payment methods.</p>
                                        </div>
                                    </div>
                                </div>
                                <!-- Li's Shipping Inner Box Area End Here -->
                                <!-- Begin Li's Shipping Inner Box Area -->
                                <div class="col-lg-3 col-md-6 col-sm-6 pb-xs-30">
                                    <div class="li-shipping-inner-box">
                                        <div class="shipping-icon">
                                            <img src="images/shipping-icon/3.png" alt="Shipping Icon">
                                        </div>
                                        <div class="shipping-text">
                                            <h2>Shop with Confidence</h2>
                                            <p>Our Buyer Protection covers your purchasefrom click to delivery.</p>
                                        </div>
                                    </div>
                                </div>
                                <!-- Li's Shipping Inner Box Area End Here -->
                                <!-- Begin Li's Shipping Inner Box Area -->
                                <div class="col-lg-3 col-md-6 col-sm-6 pb-xs-30">
                                    <div class="li-shipping-inner-box">
                                        <div class="shipping-icon">
                                            <img src="images/shipping-icon/4.png" alt="Shipping Icon">
                                        </div>
                                        <div class="shipping-text">
                                            <h2>24/7 Help Center</h2>
                                            <p>Have a question? Call a Specialist or chat online.</p>
                                        </div>
                                    </div>
                                </div>
                                <!-- Li's Shipping Inner Box Area End Here -->
                            </div>
                        </div>
                        <!-- Footer Shipping Area End Here -->
                    </div>
                </div>
                <!-- Footer Static Top Area End Here -->
            </div>
            <!-- Footer Area End Here -->
        </div>
        <!-- Body Wrapper End Here -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js" integrity="sha512-jGsMH83oKe9asCpkOVkBnUrDDTp8wl+adkB2D+//JtlxO4SrLoJdhbOysIFQJloQFD+C4Fl1rMsQZF76JjV0eQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script src="https://cdn.usebootstrap.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js" integrity="sha512-bPs7Ae6pVvhOSiIcyUClR7/q2OAsRiovw4vAkX+zJbw3ShAeeqezq50RIIcIURq7Oa20rW2n2q+fyXBNcU9lrw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script src="js/jquery.meanmenu.min.js"></script>
        <script src="js/main.js"></script>
        <script>
            document.addEventListener('DOMContentLoaded', function () {

                checkSignInStatus();
                getCartNumber();

                //load latest products data
                fetch('http://localhost:8080/products/latest?page=0&size=10') 
                    .then(response => {
                        return response.json();
                    })
                    .then(data => {
                        const productsContainer = document.querySelector('.product-tab-area #new-product .owl-carousel');
                        productsContainer.innerHTML = '';
                        data.content.forEach(product => {
                            const productElement = generateSingleProduct(product);
                            productsContainer.appendChild(productElement);

                        });
                        initializeOwlCarousel(productsContainer);
                    })
                    .catch(error => {
                        console.error(error);
                    });

                //load laptop & tablets data
                fetch('http://localhost:8080/products/category-subcategory?categoryId=1') 
                    .then(response => {
                        return response.json();
                    })
                    .then(data => {
                        const productsContainer = document.querySelector('.laptop-area .owl-carousel');
                        productsContainer.innerHTML = '';
                        data.content.forEach(product => {
                            const productElement = generateSingleProduct(product);
                            productsContainer.appendChild(productElement);

                        });
                        initializeOwlCarousel(productsContainer);
                    })
                    .catch(error => {
                        console.error(error);
                    });

                //load electronics & accessories data
                fetch('http://localhost:8080/products/category-subcategory?categoryId=2') 
                    .then(response => {
                        return response.json();
                    })
                    .then(data => {
                        const productsContainer = document.querySelector('.electronics-area .owl-carousel');
                        productsContainer.innerHTML = '';
                        data.content.forEach(product => {
                            const productElement = generateSingleProduct(product);
                            productsContainer.appendChild(productElement);

                        });
                        initializeOwlCarousel(productsContainer);
                    })
                    .catch(error => {
                        console.error(error);
                    });

                //load printers data
                fetch('http://localhost:8080/products/category-subcategory?categoryId=3') 
                    .then(response => {
                        return response.json();
                    })
                    .then(data => {
                        const productsContainer = document.querySelector('.printer-area .owl-carousel');
                        productsContainer.innerHTML = '';
                        data.content.forEach(product => {
                            const productElement = generateSingleProduct(product);
                            productsContainer.appendChild(productElement);

                        });
                        initializeOwlCarousel(productsContainer);
                    })
                    .catch(error => {
                        console.error(error);
                    });
            });

            function generateSingleProduct(product) {
                const productElement = document.createElement('div');

                // Generate star rating
                let starRating = '';
                for (let i = 1; i <= 5; i++) {
                    let star = document.createElement('span');
                    star.className = 'star';
                    star.textContent = '★';
                    if (i > Math.ceil(2.5)) {
                        star.classList.add('empty'); // Use classList.add for adding classes
                    } else if (i > 2.5) {
                        star.classList.add('half');
                    }
                    starRating += star.outerHTML;
                }

                productElement.innerHTML = `
                    <div class="single-product-wrap">
                        <div class="product-image">
                            <a href="product-details.html?product=${product.id}">
                                <img src="images/product/large-size/${product.name}.jpg">
                            </a>
                        </div>
                        <div class="product-desc">
                            <div style="display: flex; justify-content: space-between;">
                                <span class="product-manufacturer">${product.manufacturer}</span>
                                <span class="star-rating">${starRating}</span>
                            </div>
                            <hr>
                            <p class="product-name"><a href="product-details.html?product=${product.id}">${product.name}</a></p>
                            <hr>
                            <span class="product-price">$ ${product.price.toFixed(2)}</span>
                        </div>
                    </div>
                `;
                return productElement;
            }
            function initializeOwlCarousel(productsContainer) {
                $(productsContainer).trigger('destroy.owl.carousel');

                // $(productsContainer).owlCarousel().trigger('add.owl.carousel').trigger('refresh.owl.carousel');
                $(productsContainer).owlCarousel({
                    loop: true,
                    nav: true,
                    dots: false,
                    autoplay: false,
                    autoplayTimeout: 5000,
                    navText: ["<i class='fa fa-angle-left'></i>", "<i class='fa fa-angle-right'></i>"],
                    item: 5,
                    responsive: {
                        0: {
                            items: 1
                        },
                        480: {
                            items: 2
                        },
                        768: {
                            items: 3
                        },
                        992: {
                            items: 4
                        },
                        1200: {
                            items: 5
                        }
                    }
                });
            }
        </script>
    </body>
</html>