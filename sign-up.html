<!doctype html>
<html class="no-js" lang="zxx">
    <head>
        <title>Sign Up - eCommerce.com</title>
        <link rel="icon" type="image/png" href="images/logo/site-logo-only.jpg">
        <!-- MATERIAL DESIGN ICONIC FONT -->
		<link rel="stylesheet" href="fonts/material-design-iconic-font/css/material-design-iconic-font.min.css">
        <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.css" integrity="sha512-UTNP5BXLIptsaj5WdKFrkFov94lDx+eBvbKyoe1YAfjeRPC+gT5kyZ10kOHCfNZqEui1sxmqvodNUx3KbuYI/A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <link rel="stylesheet" href="https://cdn.usebootstrap.com/bootstrap/4.1.3/css/bootstrap.min.css">
        <link rel="stylesheet" href="css/helper.css">
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <!-- Begin Body Wrapper -->
        <div class="body-wrapper">
            <!-- Begin Header Area -->
            <header class="header">
                <!-- Begin Header Top Area -->
                <div class="header-top">
                    <div class="container">
                        <div class="ht-menu">
                            <span>Telephone Enquiry:(+123) 123 321 345</span>
                            <ul>
                                <li><a href="index.html">Home</a></li>
                                <li><a href="account-personal-info.html">My Account</a></li>
                                <li><a href="shopping-cart.html">Cart</a></li>
                                <li><a href="checkout.html">Checkout</a></li>
                                <li><a id="sign-in-link" href="sign-in.html">Sign In</a></li>    
                            </ul>
                        </div>
                    </div>
                </div>
                <!-- Header Top Area End Here -->
                <!-- Begin Header Middle Area -->
                <div class="header-middle">
                    <div class="container">
                        <div class="row">
                            <div class="col-3">
                                <div class="logo">
                                    <a href="index.html">
                                        <img src="images/logo/site-logo-only.jpg" alt="" style="width: 18%;">
                                        <span>eCommerce</span> 
                                    </a>
                                </div>
                            </div>
                            <div class="col-9">
                                <div class="hm-searchbox-area">
                                    <div class="hm-searchbox">
                                        <form id="searchForm">
                                            <select id="categorySelect">
                                                <option value="0">All</option>                         
                                                <option value="1">Laptops & Tablets</option>                     
                                                <option value="2">Electronics & Accessories</option>    
                                                <option value="3">Printers</option>
                                            </select>
                                            <input id="searchInput" type="text" placeholder="Search for anything at eCommerce online">
                                        </form>                                                                           
                                    </div>
                                    <p><a href="account-personal-info.html">Hello, <span id="greet-user">guest</span></a></p>
                                    <div class="cart-container">
                                        <a href="shopping-cart.html">
                                            <img src="images/icon/cart.png" alt="" width="50px">
                                            <span id="cart-number" class="cart-number">0</span>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Header Middle Area End Here -->
                <!-- Begin Header Bottom Area -->
                <div class="header-bottom header-sticky">
                    <div class="container">
                        <div class="hb-menu">
                            <nav>
                                <ul>
                                    <li class="dropdown-holder"><a href="product-grid-category.html?categoryId=1&categoryName=Laptops%20%26%20Tablets">Laptops & Tablets</a>
                                        <ul class="hb-dropdown">
                                            <li><a href="product-grid-category.html?categoryId=1&categoryName=Laptops%20%26%20Tablets&subcategoryId=1&subcategoryName=Laptops">Laptops</a></li>
                                            <li><a href="product-grid-category.html?categoryId=1&categoryName=Laptops%20%26%20Tablets&subcategoryId=2&subcategoryName=Tablets">Tablets</a></li>
                                        </ul>
                                    </li>
                                    <li class="dropdown-holder"><a href="product-grid-category.html?categoryId=2&categoryName=Electronics%20%26%20Accessories">Electronics & Accessories</a>
                                        <ul class="hb-dropdown">
                                            <li><a href="product-grid-category.html?categoryId=2&categoryName=Electronics%20%26%20Accessories&subcategoryId=3&subcategoryName=Keyboards%20%26%20Mice">Keyboards & Mice</a></li>
                                            <li><a href="product-grid-category.html?categoryId=2&categoryName=Electronics%20%26%20Accessories&subcategoryId=4&subcategoryName=Audio">Audio</a></li>
                                            <li><a href="product-grid-category.html?categoryId=2&categoryName=Electronics%20%26%20Accessories&subcategoryId=5&subcategoryName=Hard%20Drives,%20SSDs%20%26%20Storage">Hard Drives, SSDs & Storage</a></li>
                                        </ul>
                                    </li>
                                    <li class="dropdown-holder"><a href="product-grid-category.html?categoryId=3&categoryName=Printers">Printers</a>
                                        <ul class="hb-dropdown">
                                            <li><a href="product-grid-category.html?categoryId=3&categoryName=Printers&subcategoryId=6&subcategoryName=Inkjet%20Printers">Inkjet Printers</a></li>
                                            <li><a href="product-grid-category.html?categoryId=3&categoryName=Printers&subcategoryId=7&subcategoryName=Laser%20Printers">Laser Printers</a></li>
                                        </ul>
                                    </li>
                                    <div class="hb-right">
                                        <li><a href="product-grid-general.html?searchType=New%20Arrivals">New Arrivals</a></li>
                                        <li><a href="product-grid-general.html?searchType=Best%20Sellers">Best Sellers</a></li>
                                    </div>
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>
                <!-- Header Bottom Area End Here -->
            </header>
            <!-- Header Area End Here -->
            <!-- Begin Breadcrumb Area -->
            <div class="breadcrumb-area mb-20">
                <div class="container">
                    <div class="breadcrumb-content">
                        <ul>
                            <li><a href="index.html">Home</a></li>
                            <li style="color: #808080;">Sign Up</li>
                        </ul>
                    </div>
                </div>
            </div>
            <!-- Breadcrumb Area End Here -->
            <!-- Begin Sign-Up Area -->
            <div class="wrapper mt-50 mb-50">
                <div class="inner">
                    <div class="image-holder">
                        <img src="images/sign-in-sign-up/registration-form-1.jpg" alt="">
                    </div>
                    <form action="" class="sign-up-form" style="padding: 40px;">
                        <h3>Create Your Account</h3>
                        <div class="row">
                            <div class="col-12">
                                <label for="">Username</label>
                                <input type="text" name="username" placeholder="Enter username"> 
                            </div>
                            <div class="col-12">
                                <label for="">Email Address</label>
                                <input type="email" name="email" placeholder="Enter email address"> 
                            </div>
                            <div class="col-6" style="padding-bottom: 5px;">
                                <label for="">Password</label>
                                <input type="password" name="password" placeholder="Enter password"> 
                            </div>
                            <div class="col-6" style="padding-bottom: 5px;">
                                <label for="">Confirm Password</label>
                                <input type="password" name="confirmPassword" placeholder="Enter confirm password"> 
                            </div>                                    
                            <div class="col-12" style="display: flex; align-items: center;">
                                <p style="font-size: 12px;">Passwords must be at least 6 characters.</p>
                            </div>
                            <div class="col-12" style="display: flex; align-items: center;">
                                <input type="checkbox" id="agree" name="agreement" value="agreed" style="margin-right: 10px;">
                                <label for="agree" style="font-weight: normal; position: relative; top: 13px;">
                                    <div class="my-tooltip">
                                        I agree to the terms and conditions.
                                        <i class="fa fa-info-circle" style="color: #0673ca; margin-left: 5px;"></i>
                                        <div class="tooltip-position" style="padding: 0px;">
                                            <div class="tooltip-top">
                                                <p>Terms and Conditions</p>
                                            </div>
                                            <div class="tooltip-bottom">
                                                <p>By checking the box, you agree to abide by our terms and conditions, ensuring the secure handling of your information and compliance with applicable laws.</p>
                                            </div>
                                        </div>
                                    </div>
                                </label>    
                            </div>
                            <div class="col-12">
                                <button class="my-button" id="sign-up-button">Create Account</button>
                            </div>
                            <div class="col-12" style="padding-bottom: 0px;">
                                <p>Already have an account? <a href="sign-in.html">Sign in</a> here.</p>
                            </div>
                            <div class="col-12 error-message" style="padding-bottom: 0px;"></div>
                        </div>
                    </form>
                </div>
            </div>
            <!-- Sign-Up Area End Here -->
            <!-- Begin Scroll Top  -->
            <div id="scrollToTop" class="mt-20">
                back to top
            </div>
            <!-- Scroll Top End Here -->
            <!-- Begin Footer Area -->
            <div class="footer pt-20 pb-20">
                <div class="container">
                    <div class="footer-wrap">
                        <div>
                            <ul>
                                <li><a href="help-center.html">Terms & Conditions</a></li>
                                <li><a href="#">New products</a></li>
                                <li><a href="#">Best sales</a></li>
                                <li><a href="contact.html">Contact us</a></li>
                                <li><a href="#">Delivery</a></li>
                                <li><a href="#">Legal Notice</a></li>
                                <li><a href="#">About us</a></li>
                                <li><a href="contact.html">Contact us</a></li>
                                <li><a href="#">Prices drop</a></li>
                                <li><a href="#">New products</a></li>
                                <li><a href="#">Best sales</a></li>
                                <li><a href="contact.html">Contact us</a></li>
                                <li><a href="#">Delivery</a></li>
                                <li><a href="#">Legal Notice</a></li>
                                <li><a href="#">About us</a></li>
                                <li><a href="contact.html">Contact us</a></li>
                                <li><a href="#">Prices drop</a></li>
                                <li><a href="#">New products</a></li>
                                <li><a href="#">Best sales</a></li>
                                <li><a href="contact.html">Contact us</a></li>
                                <li><a href="#">Delivery</a></li>
                                <li><a href="#">Legal Notice</a></li>
                                <li><a href="#">About us</a></li>
                                <li><a href="contact.html">Contact us</a></li>
                            </ul>
                        </div>   
                        <div>
                            <span style="font-size: 12px;">&copy 2024 eCommerce. All Rights Reserved.</span>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Footer Area End Here -->
        </div>
        <!-- Body Wrapper End Here -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js" integrity="sha512-jGsMH83oKe9asCpkOVkBnUrDDTp8wl+adkB2D+//JtlxO4SrLoJdhbOysIFQJloQFD+C4Fl1rMsQZF76JjV0eQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script src="https://cdn.usebootstrap.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js" integrity="sha512-bPs7Ae6pVvhOSiIcyUClR7/q2OAsRiovw4vAkX+zJbw3ShAeeqezq50RIIcIURq7Oa20rW2n2q+fyXBNcU9lrw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script src="js/jquery.meanmenu.min.js"></script>
        <script src="js/main.js"></script>
        <script>
            document.addEventListener('DOMContentLoaded', function () {

                checkSignInStatus();
                getCartNumber();

                // Get the elements
                const signUpButton = document.querySelector("#sign-up-button");
                const usernameInput = document.querySelector(".sign-up-form input[name='username']");
                const emailInput = document.querySelector(".sign-up-form input[name='email']");
                const passwordInput = document.querySelector(".sign-up-form input[name='password']");
                const confirmPasswordInput = document.querySelector(".sign-up-form input[name='confirmPassword']");

                // Add click event to the Sign In button
                signUpButton.addEventListener("click", function (event) {
                    // Prevent the default form submission
                    event.preventDefault();

                    // Get the username and password values
                    const username = usernameInput.value;
                    const email = emailInput.value;
                    const password = passwordInput.value;
                    const confirmPassword = confirmPasswordInput.value;

                    // Check if the username or password is empty
                    if (!username || !email || !password || !confirmPassword) {
                        document.querySelector('.error-message').style.display = 'block';
                        document.querySelector('.error-message').innerText = 'Please fill in your credentials';
                        return;
                    }

                    // Check if the agreement checkbox is not checked
                    const agreementCheckbox = document.querySelector('#agree');
                    if (!agreementCheckbox.checked) {
                        document.querySelector('.error-message').style.display = 'block';
                        document.querySelector('.error-message').innerText = 'Please agree to the terms and conditions';
                        return;
                    }

                    // sign up
                    fetch('http://localhost:8080/users/register', {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json",
                        },
                        body: JSON.stringify({
                            username: username,
                            email: email,
                            password: password,
                            confirmPassword: confirmPassword
                        }),
                    })
                        .then(response => {
                            if (!response.ok) {
                                return response.json().then(errorData => {
                                    throw new Error(errorData.message);
                                });
                            }
                            return response.json();
                        })
                        .then(() => {
                            window.location.href = 'sign-in.html';
                        })
                        .catch(error => {
                            document.querySelector('.error-message').style.display = 'block';
                            document.querySelector('.error-message').innerText = error.message;
                        });
                });
            });
        </script>
    </body>
</html>
